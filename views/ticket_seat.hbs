<main>
  <!-- Multistep progress bar-->
  <div class="step-wizard">
    <ul class="step-wizard-list">
      <li class="step-wizard-item ">
        <span class="progress-count" id="beforeItem">Chuyến Xe</span>
      </li>
      <li class="step-wizard-item">
        <span class="progress-count" id="beforeItem">Chọn giờ</span>
      </li>
      <li class="step-wizard-item">
        <span class="progress-count" id="currentItem">Chọn chỗ</span>
      </li>
      <li class="step-wizard-item">
        <span class="progress-count" id="afterItem">Xác nhận</span>
      </li>
    </ul>
  </div>
  <!-- Box Tìm Vé-->
  <div class="dvx-box container d-flex justify-content-center flex-column">
    <!-- Chuyến xe element-->
    <div>
      <div class="row dvx-chuyenXeBox align-items-center" style="margin: 3rem 2rem;">
        <!-- info-->
        <div class="col-md-10 text-left">
          <div class="row">
            <p class="m-0 p-0">00:03 <i class="fa-solid fa-chevron-right"></i> 00:08</p>
          </div>
          <div class="row">
            170,000đ ~ Giường ~ Còn 34 Chỗ
          </div>
          <div class="row">
            Bến xe miền tây -> bến xe Long Xuyên
          </div>
        </div>
        <!--button-->
        <div class="col-md-2 text-center ">
          <a name="" id="" class="btn btn-dvx" href="/confirm_ticket" role="button">></a>
        </div>
        <!--seat-->
        {{{seatTypeMap}}}
        <!--end of seat-->
        <!--showcase-->
        <ul class="showcase ">
          <li id="showcaseElement">
            <div class="seat"></div>
            <div>Còn chỗ</div>
          </li>
          <li id="showcaseElement">
            <div class="seat selected"></div>
            <div>Đang chọn</div>
          </li>
          <li id="showcaseElement">
            <div class="seat sold"></div>
            <div>Đã đặt</div>
          </li>
        </ul>
      </div>


    </div>
  </div>


   {{#each seats}}
  <span id="seatInfo" style="display: none">
    <span class="seatsID">{{viTriGhe}}</span>
    <span class="seatsStatus">{{trangThaiGhe}}</span>
  </span>
    
  {{/each}}

</main>


<script src="/assets/js/dvxScript.js"></script>


<script>
  console.log(0);
  const seatsUI = document.getElementsByClassName("seat");
  const seatsIDList = document.getElementsByClassName("seatsID");
  const seatStatusList = document.getElementsByClassName("seatsStatus");

  for (var i = 0; i < seatsUI.length; i++) {
    //console.log(i);
    var curElement = seatsUI.item(i);
    //console.log(curElement);
    var curSeatsId = seatsIDList.item(i);
    var curStatus = seatStatusList.item(i);

    if(curStatus.innerHTML == "true")
      curElement.classList.add("sold");

    var newID = curSeatsId.innerHTML;
    curElement.innerHTML = curElement.innerHTML.replace(curElement.innerHTML,newID);
  }
</script>